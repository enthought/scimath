

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Scimath Units User Reference &mdash; scimath 4.0.1 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/et.ico"/>
    <link rel="top" title="scimath 4.0.1 documentation" href="../index.html" />
    <link rel="up" title="SciMath Units Documentation" href="index.html" />
    <link rel="next" title="SciMath Interpolate Documentation" href="../interpolate/index.html" />
    <link rel="prev" title="Types of Units Available" href="available_units.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../interpolate/index.html" title="SciMath Interpolate Documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="available_units.html" title="Types of Units Available"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">scimath 4.0.1 documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">SciMath Units Documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="scimath-units-user-reference">
<span id="user-ref"></span><h1>Scimath Units User Reference<a class="headerlink" href="#scimath-units-user-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="internal-representation">
<span id="id1"></span><h2>Internal Representation<a class="headerlink" href="#internal-representation" title="Permalink to this headline">¶</a></h2>
<p>Internally, a scimath unit is a unit object:</p>
<dl class="class">
<dt id="unit">
<em class="property">class </em><tt class="descname">unit</tt><big>(</big><em>value</em>, <em>derivation</em><big>)</big><a class="headerlink" href="#unit" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="unit.value">
<tt class="descname">value</tt><a class="headerlink" href="#unit.value" title="Permalink to this definition">¶</a></dt>
<dd><p>a scalar quantity which holds the magnitude of the unit, relative to the
derivation in SI units.</p>
</dd></dl>

<dl class="attribute">
<dt id="unit.derivation">
<tt class="descname">derivation</tt><a class="headerlink" href="#unit.derivation" title="Permalink to this definition">¶</a></dt>
<dd><p>a 7-tuple holding the power of each fundamental quantity in the unit:
(length, mass, time, electrical current, temperature, amount of
substance, luminous intensity). The labels of the fundamental quantities
are given in the attribute _labels=(&#8216;m&#8217;, &#8216;kg&#8217;, &#8216;s&#8217;, &#8216;A&#8217;, &#8216;K&#8217;, &#8216;mol&#8217;,
&#8216;cd&#8217;)</p>
</dd></dl>

<dl class="attribute">
<dt id="unit.label">
<tt class="descname">label</tt><a class="headerlink" href="#unit.label" title="Permalink to this definition">¶</a></dt>
<dd><p>the display name of the unit.</p>
</dd></dl>

</dd></dl>

<p>For example, the predefined unit Newton has the following attributes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scimath.units.force</span> <span class="kn">import</span> <span class="n">newton</span><span class="p">,</span> <span class="n">lbf</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newton</span><span class="o">.</span><span class="n">value</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newton</span><span class="o">.</span><span class="n">derivation</span>
<span class="go">(1, 1, -2, 0, 0, 0, 0)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">newton</span><span class="o">.</span><span class="n">label</span>
<span class="go">&#39;newton&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lbf</span><span class="o">.</span><span class="n">value</span>
<span class="go">4.44822</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lbf</span><span class="o">.</span><span class="n">derivation</span>
<span class="go">(1, 1, -2, 0, 0, 0, 0)</span>
</pre></div>
</div>
</div>
<div class="section" id="limited-api-reference">
<h2>Limited API reference<a class="headerlink" href="#limited-api-reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="convert">
<h3>Convert<a class="headerlink" href="#convert" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="scimath.units.convert.convert">
<tt class="descclassname">scimath.units.convert.</tt><tt class="descname">convert</tt><big>(</big><em>value</em>, <em>from_unit</em>, <em>to_unit</em><big>)</big><a class="reference internal" href="../_modules/scimath/units/convert.html#convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scimath.units.convert.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Coverts value from one unit to another.</p>
<dl class="docutils">
<dt>value <span class="classifier-delimiter">:</span> <span class="classifier">float</span></dt>
<dd>value to convert</dd>
<dt>from_unit <span class="classifier-delimiter">:</span> <span class="classifier">scimath.unit object</span></dt>
<dd>implied units of &#8216;value&#8217;</dd>
<dt>to_unit <span class="classifier-delimiter">:</span> <span class="classifier">scimath.unit object</span></dt>
<dd>implied units of the returned float</dd>
</dl>
<p>value * conversion_factor + offset : data type is the same as was passed
in.</p>
<p>Checks first to see if from_unit and to_unit are equal and passes value
back in that case. Then conver() forms a conversion factor by dividing the
units. The offset is zero unless explicitly set otherwise in the unit
definition. Handling of UnitArrays is done by checking whether value is a
numpy.ndarray.</p>
<p><strong>Note</strong>: Enthought has extended the original units implementation to
handle temperature conversions.  Temperature units are a special case
because they can have a different origin.</p>
<p>This causes a fundamental ambiguity. What behavior do we expect when we
convert temperature?</p>
<p>Option #1 When we convert 0 degrees centigrade we get 32 fahrenheit.</p>
<p>Option #2 When we convert a temperature difference of 0 degrees centigrade
we get a temperature difference of 0 degrees fahrenheit.</p>
<p>By convention we have made the units system behave like in Option
#1 so that convert() handles absolute temperatures, not temperature
differences.</p>
</dd></dl>

</div>
<div class="section" id="hasunits">
<h3>HasUnits<a class="headerlink" href="#hasunits" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="scimath.units.has_units.has_units">
<tt class="descclassname">scimath.units.has_units.</tt><tt class="descname">has_units</tt><big>(</big><em>func=None</em>, <em>summary=''</em>, <em>doc=''</em>, <em>inputs=None</em>, <em>outputs=None</em><big>)</big><a class="reference internal" href="../_modules/scimath/units/has_units.html#has_units"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scimath.units.has_units.has_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Function decorator: Wrap a standard python function for unit conversion.</p>
<dl class="docutils">
<dt>func <span class="classifier-delimiter">:</span> <span class="classifier">function, optional</span></dt>
<dd>The function to wrap. Usually, has_units will be used as a bare
&#8220;&#64;has_units&#8221; decorator, so this argument will usually be supplied by
the interpreter as it interprets that syntax.</dd>
<dt>summary <span class="classifier-delimiter">:</span> <span class="classifier">str, optional</span></dt>
<dd>A short string describing the function.</dd>
<dt>doc <span class="classifier-delimiter">:</span> <span class="classifier">str, optional</span></dt>
<dd>A longer string describing the function in detail.</dd>
<dt>inputs <span class="classifier-delimiter">:</span> <span class="classifier">str, optional</span></dt>
<dd><p class="first">A string containing information about unit conversion, etc.  for
arguments in the function.  The argument names in this string must
match those in the python signature.  The order the arguments are
specified in does not matter as the order of arguments from the
wrapped function is always used.  The format of the string is as
follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="s">&quot;a: notes on a:units=m/s;b: notes on b:units=m/s&quot;</span>
</pre></div>
</div>
<p class="last">That is, information about each argument is separated by
a semi-colon (&#8216;;&#8217;).  Each argument has three fields that are
separated by colons (&#8216;:&#8217;).  The first is the name of the variable.
The 2nd is a string.  The 3rd specified the units.  Other fields
may be added later.</p>
</dd>
<dt>outputs <span class="classifier-delimiter">:</span> <span class="classifier">str, optional</span></dt>
<dd>A string with the same format as the &#8216;inputs&#8217; string that specifies
the output variables.  This <em>is</em> an ordered list as there is no way
to determine the functions outputs from the function object.</dd>
</dl>
<p>This decorator adds a unit conversion step to input and output
variables of a python function.  The resulting function can be used as
a standard python function and has an identical calling signature to
the wrapped function.  If passed standard scalars and arrays as input,
it will behave identically.  If &#8220;unitted&#8221; objects, such as UnitArray,
are handed in, however, they will be unit converted from their given
units to the units expected by the function.  In this case, output
variables are converted from arrays or scalars to UnitArray or
UnitScalar so that the results carry the units with them.  Note that
these objects are derived from standard numpy.ndarray and float objects,
so they will behave exactly like them.  The only caveat to this is that
you should use isinstance(value, ndarray) instead of &#8220;type(array) is
ndarray&#8221; when testing for their type, but you should be doing that
anyways.</p>
<p>Regardless of whether the inputs have units or not, the actual values
passed to the function will be stripped of units. The wrapped function
will only deal with regular numpy arrays and scalars.</p>
<p>If units are not assigned to a variable, absolutely no conversion is
applied to that variable.</p>
<p>Example definition of a unitted addition function:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scimath.units.api</span> <span class="kn">import</span> <span class="n">has_units</span><span class="p">,</span> <span class="n">UnitArray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@has_units</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
<span class="gp">... </span>    <span class="sd">&#39;&#39;&#39; Add two arrays in ft and convert them to m.</span>
<span class="gp">...</span><span class="sd"></span>
<span class="gp">... </span><span class="sd">        Parameters</span>
<span class="gp">... </span><span class="sd">        ----------</span>
<span class="gp">... </span><span class="sd">        a : array : units=ft</span>
<span class="gp">... </span><span class="sd">            An array</span>
<span class="gp">... </span><span class="sd">        b : array : units=ft</span>
<span class="gp">... </span><span class="sd">            Another array</span>
<span class="gp">...</span><span class="sd"></span>
<span class="gp">... </span><span class="sd">        Returns</span>
<span class="gp">... </span><span class="sd">        -------</span>
<span class="gp">... </span><span class="sd">        c : array : units=m</span>
<span class="gp">... </span><span class="sd">            c = a + b</span>
<span class="gp">... </span><span class="sd">    &#39;&#39;&#39;</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="mf">0.3048</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">array</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>
<span class="go">array([ 0.6096,  1.2192,  1.8288])</span>

<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scimath.units.length</span> <span class="kn">import</span> <span class="n">m</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">UnitArray</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">units</span><span class="o">=</span><span class="n">m</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">a</span><span class="p">)</span> <span class="c"># (Converts m -&gt; ft -&gt; m)</span>
<span class="go">UnitArray([ 2.,  4.,  6.], units=&#39;1.0*m&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">units</span>
<span class="go">1.0*m</span>
</pre></div>
</div>
<p>Alternatively, parameter information can be specified in the decorator:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">numpy</span> <span class="kn">import</span> <span class="n">array</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scimath.units.api</span> <span class="kn">import</span> <span class="n">has_units</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@has_units</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="s">&quot;a:an array:units=ft;b:array:units=ft&quot;</span><span class="p">,</span>
<span class="gp">... </span>           <span class="n">outputs</span><span class="o">=</span><span class="s">&quot;result:an array:units=m&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
<span class="gp">... </span>    <span class="s">&quot; Add two arrays in ft and convert them to m. &quot;</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="p">)</span><span class="o">*</span><span class="mf">0.3048</span>
</pre></div>
</div>
<p>The returned function has several attributes attached to it:</p>
<blockquote>
<div><dl class="docutils">
<dt>summary: A short description of the function.  This is taken from the</dt>
<dd>&#8216;summary&#8217; argument to the decorator.</dd>
<dt>doc:     A longer description of the function.  This is taken from the</dt>
<dd>&#8216;doc&#8217; argument to the decorator.</dd>
<dt>inputs: A list of Variable objects, for each argument to the function</dt>
<dd><em>in the order they are defined in the python function
signature</em>.  If you did not supply any information about the
argument in &#8220;inputs&#8221;, then a default Variable object is
created.</dd>
<dt>outputs: A list of Variable objects, for each output of the function</dt>
<dd>in the order they you specify them in the &#8220;outputs&#8221; variable
in the argument list.</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>
<div class="section" id="unitscalar">
<h3>UnitScalar<a class="headerlink" href="#unitscalar" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="scimath.units.unit_scalar.UnitScalar">
<tt class="descclassname">scimath.units.unit_scalar.</tt><tt class="descname">UnitScalar</tt><big>(</big><em>cls</em>, <em>data</em>, <em>dtype=None</em>, <em>copy=True</em>, <em>units=None</em><big>)</big><a class="reference internal" href="../_modules/scimath/units/unit_scalar.html#UnitScalar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#scimath.units.unit_scalar.UnitScalar" title="Permalink to this definition">¶</a></dt>
<dd><p>Scalars with units.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scimath.units.length</span> <span class="kn">import</span> <span class="n">cm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span> <span class="o">=</span> <span class="n">UnitScalar</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="n">units</span><span class="o">=</span><span class="n">cm</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="o">.</span><span class="n">units</span>
<span class="go">(UnitScalar(5, units=&#39;0.01*m&#39;), 0.01*m)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">units</span>
<span class="go">(UnitScalar(25, units=&#39;0.0001*m**2&#39;), 0.0001*m**2)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="unitarray">
<h3>UnitArray<a class="headerlink" href="#unitarray" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="scimath.units.unit_scalar.UnitArray">
<tt class="descclassname">scimath.units.unit_scalar.</tt><tt class="descname">UnitArray</tt><big>(</big><em>cls</em>, <em>data</em>, <em>dtype=None</em>, <em>copy=True</em>, <em>units=None</em><big>)</big><a class="headerlink" href="#scimath.units.unit_scalar.UnitArray" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a UnitArray that subclasses from a Numpy array</p>
<p>This class simply adds a &#8220;units&#8221; object to a numpy array.  It deals
with unit adjustments involving basic arithmetic and comparison
operations between arrays with units.  If incompatible units are
used, an error will be raised.</p>
<p>Note that the &#8220;units&#8221; may hold some amount of the magnitude, which can
be particularly significant for dimensionless quantities.</p>
<p>You should always convert a UnitArray to the required units before
extracting the numerical value.</p>
<p>This code is shamelessly copied from the numpy matrix class.  It is
of course modified to suite our purposes.</p>
</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/e-logo-rev.png" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Scimath Units User Reference</a><ul>
<li><a class="reference internal" href="#internal-representation">Internal Representation</a></li>
<li><a class="reference internal" href="#limited-api-reference">Limited API reference</a><ul>
<li><a class="reference internal" href="#convert">Convert</a></li>
<li><a class="reference internal" href="#hasunits">HasUnits</a></li>
<li><a class="reference internal" href="#unitscalar">UnitScalar</a></li>
<li><a class="reference internal" href="#unitarray">UnitArray</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="available_units.html"
                        title="previous chapter">Types of Units Available</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../interpolate/index.html"
                        title="next chapter">SciMath Interpolate Documentation</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/units/user_ref.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../interpolate/index.html" title="SciMath Interpolate Documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="available_units.html" title="Types of Units Available"
             >previous</a> |</li>
        <li><a href="../index.html">scimath 4.0.1 documentation</a> &raquo;</li>
          <li><a href="index.html" >SciMath Units Documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2008-2011, Enthought.
      Last updated on Dec 13, 2011.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre.
    </div>
  </body>
</html>